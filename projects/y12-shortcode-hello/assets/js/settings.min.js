jQuery(document).ready(function(e){e(".colorpicker").hide();e(".colorpicker").each(function(){e(this).farbtastic(e(this).closest(".color-picker").find(".color"))});e(".color").click(function(){e(this).closest(".color-picker").find(".colorpicker").fadeIn()});e(document).mousedown(function(){e(".colorpicker").each(function(){var t=e(this).css("display");t=="block"&&e(this).fadeOut()})});var t;jQuery.fn.uploadMediaFile=function(e,n){var r=e.attr("id"),i=r.replace("_button",""),s=r.replace("_button","_preview");if(t){t.open();return}t=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1});t.on("select",function(){attachment=t.state().get("selection").first().toJSON();jQuery("#"+i).val(attachment.id);n&&jQuery("#"+s).attr("src",attachment.sizes.thumbnail.url);t=!1});t.open()};jQuery(".image_upload_button").click(function(){jQuery.fn.uploadMediaFile(jQuery(this),!0)});jQuery(".image_delete_button").click(function(){jQuery(this).closest("td").find(".image_data_field").val("");jQuery(this).closest("td").find(".image_preview").remove();return!1});jQuery("ul#settings-sections.subsubsub").find("a").each(function(e){var t=jQuery(this).attr("href").replace("#","");jQuery('h3:contains("'+jQuery(this).text()+'")').attr("id",t).addClass("section-heading")});jQuery("#plugin_settings .subsubsub a.tab").click(function(e){jQuery(this).parents(".subsubsub").find(".current").removeClass("current");jQuery(this).addClass("current");if(jQuery(this).hasClass("all")){jQuery("#plugin_settings h3, #plugin_settings form p, #plugin_settings table.form-table, p.submit").show();return!1}var t=jQuery(this).attr("href");t=t.replace("#","",t);jQuery('#plugin_settings h3, #plugin_settings form > p:not(".submit"), #plugin_settings table').hide();jQuery("h3#"+t).show().nextUntil("h3.section-heading","p, table, table p").show();return!1})});